(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-forth-forth"],{1189:function(t,a,e){"use strict";e.r(a);var n=e("1f28"),i=e.n(n);for(var u in n)["default"].indexOf(u)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(u);a["default"]=i.a},"1f28":function(t,a,e){"use strict";(function(t,n){e("7a82");var i=e("4ea4").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("99af");var u=i(e("c7eb")),r=i(e("1da1")),o=e("225c"),s=t.database(),c=s.collection("uni-id-users"),l=(t.importObject("uni-id-co"),{data:function(){return{curpage:"forth",data:{nickname:""},hasData:!1,setNicknameIng:!1}},mounted:function(){var t=this;return(0,r.default)((0,u.default)().mark((function a(){return(0,u.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.getUserInfo();case 1:case"end":return a.stop()}}),a)})))()},methods:{toLogin:function(){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-withpwd?uniIdRedirectUrl=%252Fpages%252F".concat(this.curpage,"%252F").concat(this.curpage)})},getUserInfo:function(){var t=this;return(0,r.default)((0,u.default)().mark((function a(){var e,i;return(0,u.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n("log","update"," at pages/forth/forth.vue:53"),a.next=3,c.where("'_id' == $cloudEnv_uid").field("mobile,nickname,username,email,avatar_file").get();case 3:e=a.sent,n("log","fromDbData",e.result.data," at pages/forth/forth.vue:60"),i=e.result.data[0],i.nickname.length>0&&(t.data=i,t.hasData=!0);case 7:case"end":return a.stop()}}),a)})))()},setNickname:function(t){t?(o.mutations.updateUserInfo({nickname:t}),this.setNicknameIng=!1,this.$refs.dialog.close()):this.$refs.dialog.open()}}});a.default=l}).call(this,e("a9ff")["default"],e("0de9")["log"])},"262a":function(t,a,e){"use strict";var n=e("5751"),i=e.n(n);i.a},"2e0c":function(t,a,e){"use strict";e.r(a);var n=e("7567"),i=e("1189");for(var u in i)["default"].indexOf(u)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(u);e("262a");var r=e("f0c5"),o=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"4a22998e",null,!1,n["a"],void 0);a["default"]=o.exports},5751:function(t,a,e){var n=e("f453");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=e("4f06").default;i("077ab9ea",n,!0,{sourceMap:!1,shadowMode:!1})},7567:function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return u})),e.d(a,"a",(function(){return n}));var n={uniIdPagesAvatar:e("35d6").default,uniList:e("b52a").default,uniListItem:e("53f0").default,uniPopup:e("ff6d").default,uniPopupDialog:e("1bd02").default},i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"container"},[e("v-uni-view",{staticClass:"avatar"},[e("uni-id-pages-avatar",{staticClass:"avatar",attrs:{width:"150rpx",height:"150rpx"}})],1),e("uni-list",{staticClass:"list"},[e("uni-list-item",{staticClass:"item",attrs:{title:"昵称",rightText:t.data.nickname||"未设置",link:!0},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.setNickname("")}}})],1),e("uni-popup",{ref:"dialog",attrs:{type:"dialog"}},[e("uni-popup-dialog",{attrs:{mode:"input",value:t.data.nickname,inputType:t.setNicknameIng?"nickname":"text",title:"设置昵称",placeholder:"请输入要设置的昵称"},on:{confirm:function(a){arguments[0]=a=t.$handleEvent(a),t.setNickname.apply(void 0,arguments)}}})],1),e("v-uni-view",{staticClass:"bottomBar"},[0==t.hasData?e("v-uni-button",{on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toLogin.apply(void 0,arguments)}}},[t._v("登录")]):e("v-uni-button",{on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.getUserInfo.apply(void 0,arguments)}}},[t._v("更新个人信息")])],1)],1)},u=[]},f453:function(t,a,e){var n=e("24fb");a=n(!1),a.push([t.i,'.avatar[data-v-4a22998e]{margin-top:%?100?%;border-radius:50%\n\t\t/* width="260rpx" height="260rpx" */}.list[data-v-4a22998e]{margin-top:%?100?%}.bottomBar[data-v-4a22998e]{margin-top:%?100?%\n/* \t\tleft: 50%;\n\t\tbottom: 0;\n\t\ttransform: translateX(-50%); */}',""]),t.exports=a}}]);